# 前置知识

导致有格式化字符串漏洞的函数有

- printf系列函数
  - printf()
  - fprintf()
  - sprintf()
  - snprintf()
- syslog()
- vprintf系列函数
- 错误日志函数
- 远程日志记录器

首先会读取到一段字符串，然后在输出函数中，没有正确的进行格式化字符串处理，导致可以读取内存的数据，写入数据等字符串的输入权交给用户就会有问题了

```c
  char a[100];
  scanf("%s",a);
  printf(a);
  return 0;
```

```c
read(0,buf,20u);
printf(buf); //这个就是一个明显的格式化字符漏洞
```

常见的格式化字符串有

```c
printf("%d");	//输出十进制数
printf("%f");	//输出
printf("%c");	//输出一个字符
printf("%s");	//输出字符串
printf("%x");	//输出十六进制数，没有0x
printf("%p");	//输出十六进制，带有0x
printf("abcd%n")	//将%n前面字符串abcd的长度4写入在后面
```

